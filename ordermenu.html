<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --orange: #FFA500;
            --orange-2: #FFB84D;
            --blue: #0047AB;
            --blue-2: #0066CC;
            --white: #FFFFFF;
            --glass: rgba(255, 255, 255, 0.9);
        }

        body {
            font-family: 'Prompt', sans-serif;
            background: linear-gradient(135deg, var(--orange) 0%, #ffffff 60%, var(--blue));
            color: #002366;
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 18px;
            background: transparent;
            gap: 10px;
        }

        .btn-nav {
            padding: 8px 14px;
            border: none;
            border-radius: 10px;
            background: var(--glass);
            color: #002366;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
            transition: transform .15s ease;
        }

        .btn-nav:hover {
            transform: translateY(-2px);
        }

        h1 {
            text-align: center;
            margin: 8px 0 12px;
            font-size: 1.5rem;
            color: #002366;
        }

        .container {
            display: flex;
            gap: 12px;
            padding: 12px;
            align-items: flex-start;
        }

        .order-summary {
            width: 320px;
            background: var(--glass);
            border-radius: 16px;
            padding: 14px;
            margin-right: 8px;
            min-width: 260px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .order-summary h3 {
            text-align: center;
            margin-top: 0;
            color: #002366;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            gap: 8px;
        }

        .order-item .controls button {
            font-size: 0.95rem;
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 8px;
            background: var(--orange);
            color: white;
            cursor: pointer;
            font-weight: 700;
            transition: transform .12s ease;
        }

        .order-item .controls button:hover {
            transform: scale(1.1);
            background: var(--orange-2);
        }

        .summary-total {
            margin-top: 12px;
            font-weight: 700;
            color: #002366;
            line-height: 1.4;
            text-align: center;
        }

        .menu-grid {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 14px;
            align-items: start;
        }

        .menu-item {
            background: #ffffff;
            border-radius: 14px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            padding: 12px;
            cursor: pointer;
            transition: transform .14s ease;
        }

        .menu-item:hover {
            transform: translateY(-6px);
        }

        .image-placeholder {
            width: 100%;
            height: 110px;
            background: #eee;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 10px;
        }

        .order-summary button {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            margin-top: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: 0.2s;
        }

        .order-summary button:first-of-type {
            background: linear-gradient(90deg, var(--blue), var(--blue-2));
            color: white;
        }

        .order-summary button:nth-of-type(2) {
            background: linear-gradient(90deg, var(--orange), var(--orange-2));
            color: #002366;
        }

        .order-summary button:nth-of-type(3) {
            background: linear-gradient(90deg, #FF6347, #FF4500);
            color: white;
        }

        .order-summary button:nth-of-type(4) {
            background: linear-gradient(90deg, #999, #666);
            color: white;
        }

        .order-summary button:hover {
            transform: scale(1.05);
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            padding: 20px;
            border-radius: 14px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            width: 340px;
            text-align: center;
            display: none;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.45);
            display: none;
            z-index: 999;
        }

        .keypad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .keypad button {
            padding: 14px;
            font-size: 1.2rem;
            border-radius: 10px;
            border: none;
            background-color: var(--orange);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: transform .12s ease;
        }

        .keypad button:hover {
            background-color: var(--orange-2);
            transform: scale(1.05);
        }

        .popup input {
            padding: 10px;
            width: 90%;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.08);
            text-align: center;
            font-size: 1.2rem;
        }

        .payment-buttons {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 10px;
        }

        .payment-buttons button {
            flex: 1;
            background: linear-gradient(90deg, #FFD27F, #FFB84D) !important;
            color: #002366 !important;
            font-weight: 700 !important;
            border: none !important;
            border-radius: 12px !important;
            padding: 10px 0 !important;
            font-size: 1rem !important;
            cursor: pointer !important;
            transition: transform .15s ease, background .2s !important;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .payment-buttons button:hover {
            transform: scale(1.05);
            background: linear-gradient(90deg, #FFC04D, #FFA500) !important;
        }

        /* üîß ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡∏∞ QR Code ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ */
        #receiptPopup {
            width: 320px !important;
            max-height: 90vh;
            overflow-y: auto;
        }

        #receiptPopup img {
            width: 80px !important;
            height: auto;
            display: block;
            margin: 0 auto 6px;
        }

        /* ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏ô‡∏≤‡∏î QR Code */
        #qrPopup img {
            width: 180px !important;
            height: auto;
            margin: 0 auto;
            display: block;
            border-radius: 8px;
        }

        #receiptPopup {
            background: #fff;
            border: 1px solid #ccc;
        }

        /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î QR ‡πÅ‡∏•‡∏∞‡∏õ‡πä‡∏≠‡∏õ‡∏≠‡∏±‡∏õ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô */
        #qrPopup {
            width: 320px;
            text-align: center;
            border-radius: 16px;
            background: #fff;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        #qrPopup h3 {
            margin-bottom: 10px;
            color: #0047AB;
        }

        #qrPopup img {
            width: 180px;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 10px;
        }

        #qrPopup button {
            background: linear-gradient(90deg, #4CAF50, #45A049);
            color: white;
            font-weight: 600;
            border: none;
            border-radius: 10px;
            padding: 10px 16px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        #qrPopup button:hover {
            transform: scale(1.05);
        }

        /* ‡∏õ‡∏£‡∏±‡∏ö UI ‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô */
        #receiptPopup {
            width: 320px !important;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: 16px;
            background: #fff;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            padding: 20px;
        }

        #receiptPopup h2 {
            color: #0047AB;
            font-size: 1.2rem;
            margin-bottom: 8px;
        }

        #receiptPopup button {
            display: inline-block;
            width: 48%;
            border-radius: 10px;
            padding: 10px 0;
            font-weight: 600;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            transition: transform 0.2s ease;
        }

        #receiptPopup button:first-of-type {
            background: linear-gradient(90deg, #4CAF50, #45A049);
            color: white;
        }

        #receiptPopup button:nth-of-type(2) {
            background: linear-gradient(90deg, #999, #777);
            color: white;
        }

        #receiptPopup button:hover {
            transform: scale(1.05);
        }

        .receipt-header img {
            width: 80px !important;
            height: auto;
            margin-bottom: 6px;
        }


        /* ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏≠‡∏ô‡∏û‡∏¥‡∏°‡∏û‡πå */
        @media print {
            #receiptPopup button {
                display: none !important;
            }
        }

        .receipt-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .receipt-table th,
        .receipt-table td {
            border-bottom: 1px dashed rgba(0, 0, 0, 0.15);
            padding: 6px 8px;
            font-size: 0.95rem;
        }

        /* ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏≠‡∏ô‡∏û‡∏¥‡∏°‡∏û‡πå */
        @media print {
            #receiptPopup button {
                display: none !important;
            }

            #receiptPopup {
                width: 100% !important;
                box-shadow: none !important;
            }
        }

        .discount-btn {
            background: linear-gradient(90deg, #FFA500, #FFB84D);
            color: #002366;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.2s ease;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }

        .discount-btn:hover {
            transform: translateY(-3px);
            background: linear-gradient(90deg, #FFB84D, #FFD27F);
        }

        .discount-clear-btn {
            margin-top: 16px;
            background: linear-gradient(90deg, #999, #666);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s ease;
        }

        .discount-clear-btn:hover {
            transform: scale(1.05);
            background: linear-gradient(90deg, #666, #444);
        }

        /* üì± ‡∏õ‡∏£‡∏±‡∏ö layout ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .order-summary {
                position: sticky;
                top: 0;
                width: 100%;
                z-index: 1000;
                margin: 0 0 10px 0;
                border-radius: 0 0 16px 16px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            }

            .menu-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            }
        }

        /* üì± ‡∏õ‡∏£‡∏±‡∏ö layout ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ (‡∏™‡∏≠‡∏á‡πÅ‡∏ñ‡∏ß) */
@media (max-width: 768px) {
  .container {
    flex-direction: column;
  }

  .order-summary {
    position: sticky;
    top: 0;
    width: 100%;
    z-index: 1000;
    margin: 0 0 10px 0;
    border-radius: 0 0 16px 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .menu-grid {
    grid-template-columns: repeat(2, 1fr); /* ‚úÖ ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
    gap: 10px;
  }

  .menu-item {
    padding: 8px;
    border-radius: 12px;
    font-size: 0.9rem;
  }

  .image-placeholder {
    height: 80px; /* ‚úÖ ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏£‡∏π‡∏õ */
    font-size: 0.8rem;
  }
}

    
/* üõí ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ */
.cart-button {
  position: fixed;
  bottom: 18px;
  right: 18px;
  background: linear-gradient(90deg, #0047AB, #0066CC);
  color: white;
  border-radius: 50px;
  padding: 12px 18px;
  font-size: 1.1rem;
  font-weight: 700;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  z-index: 1100;
  cursor: pointer;
  transition: transform .15s ease;
}

.cart-button:hover {
  transform: scale(1.05);
}

.cart-button span {
  background: #FF4500;
  border-radius: 12px;
  padding: 2px 6px;
  font-size: 0.9rem;
  margin-left: 4px;
}

</style>

</head>

<body>
    <div class="overlay" id="overlay" onclick="closeAllPopups()"></div>
    <header>
        <button class="btn-nav" onclick="playClick(); goHome()">‚Üê Home</button>
        <button class="btn-nav" onclick="playClick(); goBack()">‚Üê Back</button>
    </header>
    <h1>‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h1>

    <div class="container">
        <div class="order-summary" id="orderSummary" style="display:none;">
            <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>
<div id="orderInfo" style="text-align:center; margin-bottom:8px; font-weight:600; color:#0047AB;"></div>
            <div id="orderItems"></div>
            <div class="summary-total" id="totalSummary"></div>
            <button onclick="playClick(); closeCart()">‚ûï ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
            <button onclick="playClick(); promptDiscountAuth()">üéÅ ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</button>
            <button onclick="playClick(); submitOrder()">‚úÖ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
            <button onclick="playClick(); cancelOrder()">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button onclick="playClick(); removeDiscount()">üßπ ‡∏•‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</button>
        </div>
        <div class="menu-grid" id="menuGrid">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏°‡∏ô‡∏π...</div>
    </div>

    <!-- Popup ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î -->
    <div class="popup" id="discountPopup">
        <h3 style="color:#0047AB; margin-bottom:14px;">üéÅ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</h3>
        <div style="display:flex; justify-content:center; gap:12px; flex-wrap:wrap;">
            <button class="discount-btn" onclick="playClick(); applyDiscount(5)">5%</button>
            <button class="discount-btn" onclick="playClick(); applyDiscount(10)">10%</button>
            <button class="discount-btn" onclick="playClick(); applyDiscount(15)">15%</button>
            <button class="discount-btn" onclick="playClick(); applyDiscount(20)">20%</button>
        </div>
        <button class="discount-clear-btn" onclick="playClick(); removeDiscount()">üßπ ‡∏•‡πâ‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</button>
    </div>

    <!-- Popup ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™ -->
    <div class="popup" id="authPopup">
        <h3>‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</h3>
        <input id="pinInput" type="password" maxlength="6" readonly>
        <div class="keypad">
            <button onclick="playClick(); appendPin('1')">1</button>
            <button onclick="playClick(); appendPin('2')">2</button>
            <button onclick="playClick(); appendPin('3')">3</button>
            <button onclick="playClick(); appendPin('4')">4</button>
            <button onclick="playClick(); appendPin('5')">5</button>
            <button onclick="playClick(); appendPin('6')">6</button>
            <button onclick="playClick(); appendPin('7')">7</button>
            <button onclick="playClick(); appendPin('8')">8</button>
            <button onclick="playClick(); appendPin('9')">9</button>
            <button onclick="playClick(); clearPin()">C</button>
            <button onclick="playClick(); appendPin('0')">0</button>
            <button onclick="playClick(); submitPin()">‚úÖ</button>
        </div>
    </div>

    <!-- Popup ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î -->
    <div class="popup" id="cashPopup">
        <h3>‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</h3>
        <p>‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏≥‡∏£‡∏∞: <strong><span id="cashAmount"></span> ‡∏ø</strong></p>
        <input type="text" id="cashInput" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞" />

        <div class="keypad">
            <button onclick="playClick(); appendCash('1')">1</button>
            <button onclick="playClick(); appendCash('2')">2</button>
            <button onclick="playClick(); appendCash('3')">3</button>
            <button onclick="playClick(); appendCash('4')">4</button>
            <button onclick="playClick(); appendCash('5')">5</button>
            <button onclick="playClick(); appendCash('6')">6</button>
            <button onclick="playClick(); appendCash('7')">7</button>
            <button onclick="playClick(); appendCash('8')">8</button>
            <button onclick="playClick(); appendCash('9')">9</button>
            <button onclick="playClick(); clearCash()">C</button>
            <button onclick="playClick(); appendCash('0')">0</button>
            <button onclick="playClick(); confirmCash()">‚úÖ</button>
        </div>
        <p id="changeDisplay" style="margin-top:8px;font-weight:600;"></p>
    </div>

    <!-- Popup QR -->
    <div class="popup" id="qrPopup">
        <h3>‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h3>
        <img id="qrImage" src="kshop.jpg" alt="QR Code">
        <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡∏¢‡∏≠‡∏î <strong><span id="qrAmount"></span> ‡∏ø</strong></p>
        <button onclick="playClick(); confirmQR()">‚úÖ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß</button>
    </div>

    <!-- Popup ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô -->
    <div class="popup" id="paymentPopup">
        <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h3>
        <div class="payment-buttons">
            <button onclick="playClick(); payCash()">üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</button>
            <button onclick="playClick(); payQR()">üì± QR Code</button>
        </div>
    </div>

    <!-- Popup ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à -->
    <div class="popup" id="receiptPopup" style="width:360px;text-align:left;">
        <div class="receipt-header">
            <img src="logo.jpg" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏£‡πâ‡∏≤‡∏ô‡∏ä‡∏≤‡∏¢‡∏™‡∏µ‡πà‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πä‡∏¢‡∏ß">
            <h3 style="text-align:center;">‡∏ä‡∏≤‡∏¢‡∏™‡∏µ‡πà‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πä‡∏¢‡∏ß ‡∏Å‡∏≠‡∏•‡πå‡∏ü‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏ú‡πà</h3>
            <h5 style="text-align:center;">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà 95/7 ‡∏°.7 ‡∏ï.‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡∏≠.‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏ú‡πà ‡∏à.‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô 40110</h5>
            <h5 style="text-align:center;">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ:1409700103387</h5>
            <h5 style="text-align:center;">‡πÇ‡∏ó‡∏£.082-3804188</h5>
        </div>
        <h4 style="text-align:center;">‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡πà‡∏≠/üßæ ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô</h4>
        <div id="receiptDetails"></div>
        <h5 style="text-align:center;">‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏ö‡∏û‡∏£‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏≠‡∏∏‡∏î‡∏´‡∏ô‡∏∏‡∏ô</h5>
        <button onclick="playClick(); window.print()">üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à</button>
        <button onclick="playClick(); closeReceipt()">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
    </div>

    <script>
        let order = {}, discountPercent = 0;

        // ---------------- Popup Control ----------------
        function showPopup(id) {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById(id).style.display = 'block';
        }
        function closeAllPopups() {
            document.querySelectorAll('.popup').forEach(p => p.style.display = 'none');
            document.getElementById('overlay').style.display = 'none';
        }

        // ---------------- ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î ----------------
        function promptDiscountAuth() { showPopup('authPopup'); }
        function submitPin() {
            const pin = document.getElementById('pinInput').value;
            if (pin === '000000') {
                closeAllPopups();
                showPopup('discountPopup');
                clearPin();
            } else {
                alert('‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
                clearPin();
            }
        }
        // üßÆ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏° VAT ‡πÅ‡∏•‡πâ‡∏ß (‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏©‡∏µ)
        function calcTaxFromIncluded(totalWithVat) {
            const beforeVat = totalWithVat / 1.07;
            const vatAmount = totalWithVat - beforeVat;
            return { beforeVat, vatAmount };
        }


        function applyDiscount(p) {
            discountPercent = p;
            closeAllPopups();
            updateSummary();
  updateCartCount(); // ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        }
        function removeDiscount() {
            discountPercent = 0;
            updateSummary();
  updateCartCount(); // ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        }

        // ---------------- Keypad ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö PIN ----------------
        function appendPin(num) {
            const input = document.getElementById('pinInput');
            if (input.value.length < 6) input.value += num;
        }
        function clearPin() {
            document.getElementById('pinInput').value = '';
        }

        // ---------------- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ----------------
        function addToOrder(item) {
            const n = item.name, p = Number(item.price);
            if (!order[n]) order[n] = { price: p, quantity: 1 };
            else order[n].quantity++;
            updateSummary();
  updateCartCount(); // ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        }
        function changeQty(n, c) {
            if (order[n]) {
                order[n].quantity += c;
                if (order[n].quantity <= 0) delete order[n];
                updateSummary();
  updateCartCount(); // ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
            }
        }
        function removeItem(n) {
            delete order[n];
            updateSummary();
  updateCartCount(); // ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
        }
        // ---------------- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î ----------------
        function updateSummary() {
            const s = document.getElementById('orderSummary'),
                items = document.getElementById('orderItems'),
                t = document.getElementById('totalSummary');

            items.innerHTML = '';
            let subtotal = 0;
            for (const n in order) {
                const it = order[n];
                subtotal += it.price * it.quantity;
                items.innerHTML += `
      <div class='order-item'>
        <div>${n}</div>
        <div class='controls'>
          <button onclick="changeQty('${n}',-1)">-</button>
          <span>${it.quantity}</span>
          <button onclick="changeQty('${n}',1)">+</button>
          <button onclick="removeItem('${n}')">üóëÔ∏è</button>
        </div>
      </div>`;
            }

            const discount = subtotal * (discountPercent / 100);
            const totalAfterDiscount = subtotal - discount;
            const { beforeVat, vatAmount } = calcTaxFromIncluded(totalAfterDiscount);
            const net = totalAfterDiscount;

            t.innerHTML = `
    ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° (‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏©‡∏µ): ${subtotal.toFixed(2)} ‡∏ø<br>
    ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î (${discountPercent}%): ${discount.toFixed(2)} ‡∏ø<br>
    ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ: ${beforeVat.toFixed(2)} ‡∏ø<br>
    ‡∏†‡∏≤‡∏©‡∏µ (7%): ${vatAmount.toFixed(2)} ‡∏ø<br>
    <strong>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏©‡∏µ): ${net.toFixed(2)} ‡∏ø</strong>
  `;
            // ‡∏ã‡πà‡∏≠‡∏ô popup ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡πÑ‡∏ß‡πâ‡πÄ‡∏™‡∏°‡∏≠
        }
        function getTotal() {
            let subtotal = 0;
            for (const n in order) {
                subtotal += order[n].price * order[n].quantity;
            }
            const discount = subtotal * (discountPercent / 100);
            const totalAfterDiscount = subtotal - discount;
            return totalAfterDiscount; // ‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏©‡∏µ‡πÅ‡∏•‡πâ‡∏ß
        }

        // ---------------- ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ----------------
        function submitOrder() {
            if (Object.keys(itemsCopy).length === 0) {
                alert('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠');
                return;
            }
            showPopup('paymentPopup');
        }

        function cancelOrder() {
            if (confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠?')) {
                
                discountPercent = 0;
                updateSummary();
  updateCartCount(); // ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
            }
        }
        // ---------------- Keypad ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î ----------------
        function appendCash(num) {
            const input = document.getElementById('cashInput');
            input.value += num;
        }

        function clearCash() {
            document.getElementById('cashInput').value = '';
            document.getElementById('changeDisplay').innerText = '';
        }


        function payCash() {
            closeAllPopups();
            const t = getTotal();
            document.getElementById('cashAmount').innerText = t.toFixed(2);
            showPopup('cashPopup');
            clearCash();
        }

        function payQR() {
            closeAllPopups();
            const t = getTotal();
            document.getElementById('qrAmount').innerText = t.toFixed(2);
            showPopup('qrPopup');
        }

        function confirmCash() {
            const paid = Number(document.getElementById('cashInput').value);
            const t = getTotal();
            if (isNaN(paid) || paid <= 0) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞');
                return;
            }
            if (paid < t) {
                alert('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠');
                return;
            }
            const change = paid - t;
            document.getElementById('changeDisplay').innerText = `‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô: ${change.toFixed(2)} ‡∏ø`;
            setTimeout(() => showReceipt('‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î', paid, change), 800);
        }

        function confirmQR() {
            showReceipt('QR Code', 0, 0);
        }

       // ---------------- ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à ----------------
function showReceipt(method, paid, change) {
  const orderType = localStorage.getItem("orderType") || "-";
  const customerCount = localStorage.getItem("customerCount") || "-";
  const tableNumber = localStorage.getItem("tableNumber") || "-";
  closeAllPopups();

  let html = `
  <div style="margin-bottom:10px; font-weight:600;">
    üçΩÔ∏è ${orderType} | üë• ${customerCount} ‡∏Ñ‡∏ô | ü™ë ‡πÇ‡∏ï‡πä‡∏∞ ${tableNumber}
  </div>
  <table class="receipt-table">
    <tr>
      <th style="width:60%; text-align:left;">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
      <th style="width:20%; text-align:center;">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
      <th style="width:20%; text-align:right;">‡∏£‡∏≤‡∏Ñ‡∏≤</th>
    </tr>`;

  let subtotal = 0, totalQty = 0;
  for (const n in order) {
      const it = order[n];
      subtotal += it.price * it.quantity;
      totalQty += it.quantity;
      html += `
      <tr>
        <td>${n}</td>
        <td style="text-align:center;">${it.quantity}</td>
        <td style="text-align:right;">${(it.price * it.quantity).toFixed(2)}</td>
      </tr>`;
  }

  const discount = subtotal * (discountPercent / 100);
  const totalAfterDiscount = subtotal - discount;
  const { beforeVat, vatAmount } = calcTaxFromIncluded(totalAfterDiscount);
  const net = totalAfterDiscount;

  html += `
  <tr>
    <td colspan="3" style="text-align:left; font-weight:bold;">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${totalQty} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</td>
  </tr>
  </table>

  <div style="display:flex; justify-content:space-between; margin-top:10px;">
    <div style="text-align:left;">
      ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞: ${method}<br>
      ${method === '‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î' ? `‡∏ä‡∏≥‡∏£‡∏∞‡∏°‡∏≤: ${paid.toFixed(2)} ‡∏ø<br>‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô: ${change.toFixed(2)} ‡∏ø<br>` : ''}
      ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${new Date().toLocaleString('th-TH')}
    </div>
    <div style="text-align:right;">
      ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° (‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏©‡∏µ): ${subtotal.toFixed(2)} ‡∏ø<br>
      ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î (${discountPercent}%): ${discount.toFixed(2)} ‡∏ø<br>
      ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ: ${beforeVat.toFixed(2)} ‡∏ø<br>
      ‡∏†‡∏≤‡∏©‡∏µ (7%): ${vatAmount.toFixed(2)} ‡∏ø<br>
      <strong>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏©‡∏µ): ${net.toFixed(2)} ‡∏ø</strong>
    </div>
  </div>`;

  document.getElementById('receiptDetails').innerHTML = html;
  showPopup('receiptPopup');

  // ‚úÖ ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡πÑ‡∏õ n8n (‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏•‡πâ‡∏≤‡∏á order)
  const itemsCopy = JSON.parse(JSON.stringify(order));
  const payload = {
      receipt_id: "RC" + Date.now(),
      datetime: new Date().toLocaleString("th-TH"),
      staff: "‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô A",
      payment_method: method,
      total: net,
      discount: discountPercent,
      items: Object.keys(itemsCopy).map(name => ({
          name: name,
          qty: order[name].quantity,
          price: order[name].price
      }))
  };

  // ‚úÖ ‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á n8n
  
sendOrderToWebhook(payload);

setTimeout(() => {
    order = {};
    discountPercent = 0;
    updateSummary();
    updateCartCount();
}, 500);


  // ‚úÖ ‡∏Ñ‡πà‡∏≠‡∏¢‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢
  
  discountPercent = 0;
  updateSummary();
  updateCartCount();
}

async function sendOrderToWebhook(payload) {
    try {
        const res = await fetch("https://golfn8n231135.app.n8n.cloud/webhook-test/hookgolf", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
        });

        console.log("‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á n8n ‡πÅ‡∏•‡πâ‡∏ß", await res.text());

    } catch (err) {
        console.error("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á webhook:", err);
    }
}

      function closeReceipt() { closeAllPopups(); }

        // ---------------- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π ----------------
        function goHome() { window.location.href = 'index.html'; }
        function goBack() { window.history.back(); }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≠‡∏ô‡∏Å‡∏î
        fetch("https://script.google.com/macros/s/AKfycbwvYTBu1lZ-IukUtsg2ylzALbEEoYARxjgyWh7VmTDP9lTXhs6Axv7uNcRIE3DCGjaQ/exec")
            .then(r => r.json())
            .then(data => {
                const g = document.getElementById('menuGrid');
                g.innerHTML = '';
                data.forEach(it => {
                    const d = document.createElement('div');
                    d.className = 'menu-item';
                    d.innerHTML = `
              <div class='image-placeholder'>[‡∏£‡∏π‡∏õ‡∏≠‡∏≤‡∏´‡∏≤‡∏£]</div>
              <div>${it.name}</div>
              <div>${it.price} ‡∏ö‡∏≤‡∏ó</div>`;
                    d.onclick = () => { playClick(); addToOrder(it); };
                    g.appendChild(d);
                });
            });
    
// üõí ‡πÅ‡∏™‡∏î‡∏á popup ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
function showCart() {
  if (Object.keys(itemsCopy).length === 0) {
    alert('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤');
    return;
  }
  showPopup('orderSummary');
}

// üõí ‡∏õ‡∏¥‡∏î popup ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°
function closeCart() {
  document.getElementById('orderSummary').style.display = 'none';
  document.getElementById('overlay').style.display = 'none';
}

// ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ / ‡πÇ‡∏ï‡πä‡∏∞ / ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á
function loadOrderInfo() {
  const orderType = localStorage.getItem("orderType") || "-";
  const customerCount = localStorage.getItem("customerCount") || "-";
  const tableNumber = localStorage.getItem("tableNumber") || "-";
  const text = `üçΩÔ∏è ${orderType} | üë• ${customerCount} ‡∏Ñ‡∏ô | ü™ë ‡πÇ‡∏ï‡πä‡∏∞ ${tableNumber}`;
  const el = document.getElementById("orderInfo");
  if (el) el.innerHTML = text;
}
document.addEventListener("DOMContentLoaded", loadOrderInfo);

// üõí ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
function updateCartCount() {
  const count = Object.values(order).reduce((sum, item) => sum + item.quantity, 0);
  document.getElementById('cartCount').innerText = count;
  document.getElementById('cartButton').style.display = count > 0 ? 'flex' : 'none';
}

</script>

    <!-- üîä ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏±‡πà‡∏ô -->
    <script>
        let audioCtx;
        function initAudio() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        }

        function playClick() {
            initAudio();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.type = "square";
            osc.frequency.value = 550;
            gain.gain.value = 0.08;
            osc.start();
            osc.stop(audioCtx.currentTime + 0.1);
            if (navigator.vibrate) navigator.vibrate(40);
        }

        function playError() {
            initAudio();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.type = "sawtooth";
            osc.frequency.value = 180;
            gain.gain.value = 0.12;
            osc.start();
            osc.stop(audioCtx.currentTime + 0.25);
            if (navigator.vibrate) navigator.vibrate([100, 60, 100]);
        }

        // ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll("button,a").forEach(el => {
                el.addEventListener("click", playClick);
            });
        });

        // ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡∏≠‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô error
        const _alert = window.alert;
        window.alert = function (msg) {
            playError();
            _alert(msg);
        };
    </script>


    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏° listener ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å AudioContext -->
    <script>
        document.addEventListener("click", () => {
            try {
                if (typeof audioCtx !== "undefined" && audioCtx.state === "suspended") {
                    audioCtx.resume();
                } else if (typeof initAudio === "function" && (!audioCtx || audioCtx.state !== "running")) {
                    initAudio();
                }
            } catch (e) {
                console.warn("Audio init/resume failed:", e);
            }
        }, { once: true });
    </script>

<!-- üõí ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ -->
<div id="cartButton" class="cart-button" onclick="showCart()">
  üõí <span id="cartCount">0</span>
</div>

</body>

</html>
